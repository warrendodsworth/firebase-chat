//Nosql db design structure
{
  "users": {
    "user": {
      "$uid": "1",
      "friends": [],
      "chats": []
    }
  },
  "chats":{
    "chatId":{
      "users":[],
      "messages":[]
    }
  },
  //vs
  "messages": {
    "$uid1-$uid2": {
      "text": "",
      "timestamp": ""
    }
  },
  
  
  "typingIndicator":{
    "$uid": false
  }
}